'use strict';var cov_ge2kyk20l=function(){var path="C:\\Users\\opeol\\Desktop\\Ride-My-Way\\server\\controllers\\controller.js",hash="9671d90616c6bd461aab3e807f04d06de2ffcf90",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"C:\\Users\\opeol\\Desktop\\Ride-My-Way\\server\\controllers\\controller.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:7,column:18},end:{line:7,column:48}},"2":{start:{line:9,column:19},end:{line:9,column:54}},"3":{start:{line:11,column:18},end:{line:11,column:48}},"4":{start:{line:13,column:19},end:{line:13,column:54}},"5":{start:{line:15,column:12},end:{line:15,column:44}},"6":{start:{line:17,column:13},end:{line:17,column:42}},"7":{start:{line:19,column:39},end:{line:19,column:93}},"8":{start:{line:21,column:17},end:{line:73,column:1}},"9":{start:{line:23,column:4},end:{line:23,column:35}},"10":{start:{line:27,column:18},end:{line:27,column:23}},"11":{start:{line:28,column:4},end:{line:33,column:7}},"12":{start:{line:29,column:6},end:{line:32,column:7}},"13":{start:{line:30,column:8},end:{line:30,column:23}},"14":{start:{line:31,column:8},end:{line:31,column:26}},"15":{start:{line:35,column:4},end:{line:37,column:5}},"16":{start:{line:36,column:6},end:{line:36,column:116}},"17":{start:{line:41,column:18},end:{line:41,column:26}},"18":{start:{line:42,column:25},end:{line:42,column:85}},"19":{start:{line:43,column:25},end:{line:43,column:85}},"20":{start:{line:45,column:4},end:{line:54,column:5}},"21":{start:{line:46,column:6},end:{line:50,column:9}},"22":{start:{line:47,column:8},end:{line:49,column:9}},"23":{start:{line:48,column:10},end:{line:48,column:38}},"24":{start:{line:51,column:6},end:{line:51,column:37}},"25":{start:{line:53,column:6},end:{line:53,column:44}},"26":{start:{line:58,column:15},end:{line:58,column:23}},"27":{start:{line:59,column:20},end:{line:59,column:72}},"28":{start:{line:60,column:25},end:{line:60,column:82}},"29":{start:{line:61,column:18},end:{line:61,column:68}},"30":{start:{line:62,column:24},end:{line:62,column:80}},"31":{start:{line:63,column:28},end:{line:63,column:88}},"32":{start:{line:64,column:25},end:{line:64,column:82}},"33":{start:{line:66,column:4},end:{line:71,column:5}},"34":{start:{line:67,column:6},end:{line:67,column:182}},"35":{start:{line:68,column:6},end:{line:68,column:70}},"36":{start:{line:70,column:6},end:{line:70,column:77}},"37":{start:{line:75,column:0},end:{line:75,column:29}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:19,column:9},end:{line:19,column:31}},loc:{start:{line:19,column:37},end:{line:19,column:95}},line:19},"1":{name:"getRides",decl:{start:{line:22,column:21},end:{line:22,column:29}},loc:{start:{line:22,column:40},end:{line:24,column:3}},line:22},"2":{name:"getSpecificRide",decl:{start:{line:26,column:28},end:{line:26,column:43}},loc:{start:{line:26,column:54},end:{line:38,column:3}},line:26},"3":{name:"(anonymous_3)",decl:{start:{line:28,column:33},end:{line:28,column:34}},loc:{start:{line:28,column:52},end:{line:33,column:5}},line:28},"4":{name:"postRequest",decl:{start:{line:40,column:24},end:{line:40,column:35}},loc:{start:{line:40,column:46},end:{line:55,column:3}},line:40},"5":{name:"(anonymous_5)",decl:{start:{line:46,column:35},end:{line:46,column:36}},loc:{start:{line:46,column:54},end:{line:50,column:7}},line:46},"6":{name:"postRide",decl:{start:{line:57,column:21},end:{line:57,column:29}},loc:{start:{line:57,column:40},end:{line:72,column:3}},line:57}},branchMap:{"0":{loc:{start:{line:19,column:46},end:{line:19,column:92}},type:"cond-expr",locations:[{start:{line:19,column:70},end:{line:19,column:73}},{start:{line:19,column:76},end:{line:19,column:92}}],line:19},"1":{loc:{start:{line:19,column:46},end:{line:19,column:67}},type:"binary-expr",locations:[{start:{line:19,column:46},end:{line:19,column:49}},{start:{line:19,column:53},end:{line:19,column:67}}],line:19},"2":{loc:{start:{line:29,column:6},end:{line:32,column:7}},type:"if",locations:[{start:{line:29,column:6},end:{line:32,column:7}},{start:{line:29,column:6},end:{line:32,column:7}}],line:29},"3":{loc:{start:{line:35,column:4},end:{line:37,column:5}},type:"if",locations:[{start:{line:35,column:4},end:{line:37,column:5}},{start:{line:35,column:4},end:{line:37,column:5}}],line:35},"4":{loc:{start:{line:45,column:4},end:{line:54,column:5}},type:"if",locations:[{start:{line:45,column:4},end:{line:54,column:5}},{start:{line:45,column:4},end:{line:54,column:5}}],line:45},"5":{loc:{start:{line:45,column:8},end:{line:45,column:40}},type:"binary-expr",locations:[{start:{line:45,column:8},end:{line:45,column:22}},{start:{line:45,column:26},end:{line:45,column:40}}],line:45},"6":{loc:{start:{line:47,column:8},end:{line:49,column:9}},type:"if",locations:[{start:{line:47,column:8},end:{line:49,column:9}},{start:{line:47,column:8},end:{line:49,column:9}}],line:47},"7":{loc:{start:{line:66,column:4},end:{line:71,column:5}},type:"if",locations:[{start:{line:66,column:4},end:{line:71,column:5}},{start:{line:66,column:4},end:{line:71,column:5}}],line:66},"8":{loc:{start:{line:66,column:8},end:{line:66,column:102}},type:"binary-expr",locations:[{start:{line:66,column:8},end:{line:66,column:17}},{start:{line:66,column:21},end:{line:66,column:35}},{start:{line:66,column:39},end:{line:66,column:46}},{start:{line:66,column:50},end:{line:66,column:63}},{start:{line:66,column:67},end:{line:66,column:84}},{start:{line:66,column:88},end:{line:66,column:102}}],line:66}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0,0,0,0,0]},_coverageSchema:"d34fc3e6b8297bcde183f5492bcb8fcb36775295"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();cov_ge2kyk20l.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});var _ridesmodel=(cov_ge2kyk20l.s[1]++,require('../model/ridesmodel'));var _ridesmodel2=(cov_ge2kyk20l.s[2]++,_interopRequireDefault(_ridesmodel));var _usersmodel=(cov_ge2kyk20l.s[3]++,require('../model/usersmodel'));var _usersmodel2=(cov_ge2kyk20l.s[4]++,_interopRequireDefault(_usersmodel));var _ride=(cov_ge2kyk20l.s[5]++,require('../model/classes/ride'));var _ride2=(cov_ge2kyk20l.s[6]++,_interopRequireDefault(_ride));function _interopRequireDefault(obj){cov_ge2kyk20l.f[0]++;cov_ge2kyk20l.s[7]++;return(cov_ge2kyk20l.b[1][0]++,obj)&&(cov_ge2kyk20l.b[1][1]++,obj.__esModule)?(cov_ge2kyk20l.b[0][0]++,obj):(cov_ge2kyk20l.b[0][1]++,{default:obj});}var controller=(cov_ge2kyk20l.s[8]++,{getRides:function getRides(req,res){cov_ge2kyk20l.f[1]++;cov_ge2kyk20l.s[9]++;res.json(_ridesmodel2.default);},getSpecificRide:function getSpecificRide(req,res){cov_ge2kyk20l.f[2]++;var success=(cov_ge2kyk20l.s[10]++,false);cov_ge2kyk20l.s[11]++;_ridesmodel2.default.forEach(function(element){cov_ge2kyk20l.f[3]++;cov_ge2kyk20l.s[12]++;if(element.rideID===req.params.rideId){cov_ge2kyk20l.b[2][0]++;cov_ge2kyk20l.s[13]++;success=true;cov_ge2kyk20l.s[14]++;res.json(element);}else{cov_ge2kyk20l.b[2][1]++;}});cov_ge2kyk20l.s[15]++;if(!success){cov_ge2kyk20l.b[3][0]++;cov_ge2kyk20l.s[16]++;res.status(404).send('Information not found. Perhaps try to get the avaliable rides first and select an ID.');}else{cov_ge2kyk20l.b[3][1]++;}},postRequest:function postRequest(req,res){cov_ge2kyk20l.f[4]++;var request=(cov_ge2kyk20l.s[17]++,req.body);var hasRequesterID=(cov_ge2kyk20l.s[18]++,Object.prototype.hasOwnProperty.call(request,'requesterID'));var hasDestination=(cov_ge2kyk20l.s[19]++,Object.prototype.hasOwnProperty.call(request,'destination'));cov_ge2kyk20l.s[20]++;if((cov_ge2kyk20l.b[5][0]++,hasRequesterID)&&(cov_ge2kyk20l.b[5][1]++,hasDestination)){cov_ge2kyk20l.b[4][0]++;cov_ge2kyk20l.s[21]++;_ridesmodel2.default.forEach(function(element){cov_ge2kyk20l.f[5]++;cov_ge2kyk20l.s[22]++;if(element.rideID===req.params.rideId){cov_ge2kyk20l.b[6][0]++;cov_ge2kyk20l.s[23]++;element.addRequest(request);}else{cov_ge2kyk20l.b[6][1]++;}});cov_ge2kyk20l.s[24]++;res.json(_ridesmodel2.default);}else{cov_ge2kyk20l.b[4][1]++;cov_ge2kyk20l.s[25]++;res.status(400).send('Invalid data.');}},postRide:function postRide(req,res){cov_ge2kyk20l.f[6]++;var ride=(cov_ge2kyk20l.s[26]++,req.body);var hasOrigin=(cov_ge2kyk20l.s[27]++,Object.prototype.hasOwnProperty.call(ride,'origin'));var hasDestination=(cov_ge2kyk20l.s[28]++,Object.prototype.hasOwnProperty.call(ride,'destination'));var hasTime=(cov_ge2kyk20l.s[29]++,Object.prototype.hasOwnProperty.call(ride,'time'));var hasAllowStops=(cov_ge2kyk20l.s[30]++,Object.prototype.hasOwnProperty.call(ride,'allowStops'));var hasAvaliableSpace=(cov_ge2kyk20l.s[31]++,Object.prototype.hasOwnProperty.call(ride,'avaliableSpace'));var hasDescription=(cov_ge2kyk20l.s[32]++,Object.prototype.hasOwnProperty.call(ride,'description'));cov_ge2kyk20l.s[33]++;if((cov_ge2kyk20l.b[8][0]++,hasOrigin)&&(cov_ge2kyk20l.b[8][1]++,hasDestination)&&(cov_ge2kyk20l.b[8][2]++,hasTime)&&(cov_ge2kyk20l.b[8][3]++,hasAllowStops)&&(cov_ge2kyk20l.b[8][4]++,hasAvaliableSpace)&&(cov_ge2kyk20l.b[8][5]++,hasDescription)){cov_ge2kyk20l.b[7][0]++;cov_ge2kyk20l.s[34]++;_ridesmodel2.default.push(new _ride2.default(_usersmodel2.default[0].userID,ride.origin,ride.destination,ride.time,ride.allowStops,ride.avaliableSpace,ride.description));cov_ge2kyk20l.s[35]++;res.json(_ridesmodel2.default[_ridesmodel2.default.length-1]);}else{cov_ge2kyk20l.b[7][1]++;cov_ge2kyk20l.s[36]++;res.status(400).send('The information you provided doesn\'t conform.');}}});cov_ge2kyk20l.s[37]++;exports.default=controller;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsiY29udHJvbGxlciIsImdldFJpZGVzIiwicmVxIiwicmVzIiwianNvbiIsInJpZGVzIiwiZ2V0U3BlY2lmaWNSaWRlIiwic3VjY2VzcyIsImZvckVhY2giLCJlbGVtZW50IiwicmlkZUlEIiwicGFyYW1zIiwicmlkZUlkIiwic3RhdHVzIiwic2VuZCIsInBvc3RSZXF1ZXN0IiwicmVxdWVzdCIsImJvZHkiLCJoYXNSZXF1ZXN0ZXJJRCIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImhhc0Rlc3RpbmF0aW9uIiwiYWRkUmVxdWVzdCIsInBvc3RSaWRlIiwicmlkZSIsImhhc09yaWdpbiIsImhhc1RpbWUiLCJoYXNBbGxvd1N0b3BzIiwiaGFzQXZhbGlhYmxlU3BhY2UiLCJoYXNEZXNjcmlwdGlvbiIsInB1c2giLCJSaWRlIiwidXNlcnMiLCJ1c2VySUQiLCJvcmlnaW4iLCJkZXN0aW5hdGlvbiIsInRpbWUiLCJhbGxvd1N0b3BzIiwiYXZhbGlhYmxlU3BhY2UiLCJkZXNjcmlwdGlvbiIsImxlbmd0aCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7QUFFQSxJQUFNQSxhQUFhO0FBQ2pCQyxZQUFVLGtCQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBYztBQUN0QkEsUUFBSUMsSUFBSixDQUFTQyxvQkFBVDtBQUNELEdBSGdCOztBQUtqQkMsbUJBQWlCLHlCQUFDSixHQUFELEVBQU1DLEdBQU4sRUFBYztBQUM3QixRQUFJSSxVQUFVLEtBQWQ7QUFDQUYseUJBQU1HLE9BQU4sQ0FBYyxVQUFDQyxPQUFELEVBQWE7QUFDekIsVUFBSUEsUUFBUUMsTUFBUixLQUFtQlIsSUFBSVMsTUFBSixDQUFXQyxNQUFsQyxFQUEwQztBQUN4Q0wsa0JBQVUsSUFBVjtBQUNBSixZQUFJQyxJQUFKLENBQVNLLE9BQVQ7QUFDRDtBQUNGLEtBTEQ7O0FBT0EsUUFBSSxDQUFDRixPQUFMLEVBQWM7QUFDWkosVUFBSVUsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCLHVGQUFyQjtBQUNEO0FBQ0YsR0FqQmdCOztBQW1CakJDLGVBQWEscUJBQUNiLEdBQUQsRUFBTUMsR0FBTixFQUFjO0FBQ3pCLFFBQU1hLFVBQVVkLElBQUllLElBQXBCO0FBQ0EsUUFBTUMsaUJBQWlCQyxPQUFPQyxTQUFQLENBQWlCQyxjQUFqQixDQUFnQ0MsSUFBaEMsQ0FBcUNOLE9BQXJDLEVBQThDLGFBQTlDLENBQXZCO0FBQ0EsUUFBTU8saUJBQWlCSixPQUFPQyxTQUFQLENBQWlCQyxjQUFqQixDQUFnQ0MsSUFBaEMsQ0FBcUNOLE9BQXJDLEVBQThDLGFBQTlDLENBQXZCOztBQUVBLFFBQUlFLGtCQUFrQkssY0FBdEIsRUFBc0M7QUFDcENsQiwyQkFBTUcsT0FBTixDQUFjLFVBQUNDLE9BQUQsRUFBYTtBQUN6QixZQUFJQSxRQUFRQyxNQUFSLEtBQW1CUixJQUFJUyxNQUFKLENBQVdDLE1BQWxDLEVBQTBDO0FBQ3hDSCxrQkFBUWUsVUFBUixDQUFtQlIsT0FBbkI7QUFDRDtBQUNGLE9BSkQ7QUFLQWIsVUFBSUMsSUFBSixDQUFTQyxvQkFBVDtBQUNELEtBUEQsTUFPTztBQUNMRixVQUFJVSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUIsZUFBckI7QUFDRDtBQUNGLEdBbENnQjs7QUFvQ2pCVyxZQUFVLGtCQUFDdkIsR0FBRCxFQUFNQyxHQUFOLEVBQWM7QUFDdEIsUUFBTXVCLE9BQU94QixJQUFJZSxJQUFqQjtBQUNBLFFBQU1VLFlBQVlSLE9BQU9DLFNBQVAsQ0FBaUJDLGNBQWpCLENBQWdDQyxJQUFoQyxDQUFxQ0ksSUFBckMsRUFBMkMsUUFBM0MsQ0FBbEI7QUFDQSxRQUFNSCxpQkFBaUJKLE9BQU9DLFNBQVAsQ0FBaUJDLGNBQWpCLENBQWdDQyxJQUFoQyxDQUFxQ0ksSUFBckMsRUFBMkMsYUFBM0MsQ0FBdkI7QUFDQSxRQUFNRSxVQUFVVCxPQUFPQyxTQUFQLENBQWlCQyxjQUFqQixDQUFnQ0MsSUFBaEMsQ0FBcUNJLElBQXJDLEVBQTJDLE1BQTNDLENBQWhCO0FBQ0EsUUFBTUcsZ0JBQWdCVixPQUFPQyxTQUFQLENBQWlCQyxjQUFqQixDQUFnQ0MsSUFBaEMsQ0FBcUNJLElBQXJDLEVBQTJDLFlBQTNDLENBQXRCO0FBQ0EsUUFBTUksb0JBQW9CWCxPQUFPQyxTQUFQLENBQWlCQyxjQUFqQixDQUFnQ0MsSUFBaEMsQ0FBcUNJLElBQXJDLEVBQTJDLGdCQUEzQyxDQUExQjtBQUNBLFFBQU1LLGlCQUFpQlosT0FBT0MsU0FBUCxDQUFpQkMsY0FBakIsQ0FBZ0NDLElBQWhDLENBQXFDSSxJQUFyQyxFQUEyQyxhQUEzQyxDQUF2Qjs7QUFFQSxRQUFJQyxhQUFhSixjQUFiLElBQStCSyxPQUEvQixJQUEwQ0MsYUFBMUMsSUFDRkMsaUJBREUsSUFDbUJDLGNBRHZCLEVBQ3VDO0FBQ3JDMUIsMkJBQU0yQixJQUFOLENBQVcsSUFBSUMsY0FBSixDQUFTQyxxQkFBTSxDQUFOLEVBQVNDLE1BQWxCLEVBQTBCVCxLQUFLVSxNQUEvQixFQUF1Q1YsS0FBS1csV0FBNUMsRUFBeURYLEtBQUtZLElBQTlELEVBQW9FWixLQUFLYSxVQUF6RSxFQUFxRmIsS0FBS2MsY0FBMUYsRUFBMEdkLEtBQUtlLFdBQS9HLENBQVg7QUFDQXRDLFVBQUlDLElBQUosQ0FBU0MscUJBQU1BLHFCQUFNcUMsTUFBTixHQUFlLENBQXJCLENBQVQ7QUFDRCxLQUpELE1BSU87QUFDTHZDLFVBQUlVLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQixnREFBckI7QUFDRDtBQUNGO0FBcERnQixDQUFuQjs7a0JBdURlZCxVIiwiZmlsZSI6ImNvbnRyb2xsZXIuanMiLCJzb3VyY2VSb290IjoiQzovVXNlcnMvb3Blb2wvRGVza3RvcC9SaWRlLU15LVdheS9zZXJ2ZXIvY29udHJvbGxlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcmlkZXMgZnJvbSAnLi4vbW9kZWwvcmlkZXNtb2RlbCc7XHJcbmltcG9ydCB1c2VycyBmcm9tICcuLi9tb2RlbC91c2Vyc21vZGVsJztcclxuaW1wb3J0IFJpZGUgZnJvbSAnLi4vbW9kZWwvY2xhc3Nlcy9yaWRlJztcclxuXHJcbmNvbnN0IGNvbnRyb2xsZXIgPSB7XHJcbiAgZ2V0UmlkZXM6IChyZXEsIHJlcykgPT4ge1xyXG4gICAgcmVzLmpzb24ocmlkZXMpO1xyXG4gIH0sXHJcblxyXG4gIGdldFNwZWNpZmljUmlkZTogKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgc3VjY2VzcyA9IGZhbHNlO1xyXG4gICAgcmlkZXMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xyXG4gICAgICBpZiAoZWxlbWVudC5yaWRlSUQgPT09IHJlcS5wYXJhbXMucmlkZUlkKSB7XHJcbiAgICAgICAgc3VjY2VzcyA9IHRydWU7XHJcbiAgICAgICAgcmVzLmpzb24oZWxlbWVudCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGlmICghc3VjY2Vzcykge1xyXG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCgnSW5mb3JtYXRpb24gbm90IGZvdW5kLiBQZXJoYXBzIHRyeSB0byBnZXQgdGhlIGF2YWxpYWJsZSByaWRlcyBmaXJzdCBhbmQgc2VsZWN0IGFuIElELicpO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIHBvc3RSZXF1ZXN0OiAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IHJlcXVlc3QgPSByZXEuYm9keTtcclxuICAgIGNvbnN0IGhhc1JlcXVlc3RlcklEID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJlcXVlc3QsICdyZXF1ZXN0ZXJJRCcpO1xyXG4gICAgY29uc3QgaGFzRGVzdGluYXRpb24gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocmVxdWVzdCwgJ2Rlc3RpbmF0aW9uJyk7XHJcblxyXG4gICAgaWYgKGhhc1JlcXVlc3RlcklEICYmIGhhc0Rlc3RpbmF0aW9uKSB7XHJcbiAgICAgIHJpZGVzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcclxuICAgICAgICBpZiAoZWxlbWVudC5yaWRlSUQgPT09IHJlcS5wYXJhbXMucmlkZUlkKSB7XHJcbiAgICAgICAgICBlbGVtZW50LmFkZFJlcXVlc3QocmVxdWVzdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgcmVzLmpzb24ocmlkZXMpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmVzLnN0YXR1cyg0MDApLnNlbmQoJ0ludmFsaWQgZGF0YS4nKTtcclxuICAgIH1cclxuICB9LFxyXG5cclxuICBwb3N0UmlkZTogKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCByaWRlID0gcmVxLmJvZHk7XHJcbiAgICBjb25zdCBoYXNPcmlnaW4gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocmlkZSwgJ29yaWdpbicpO1xyXG4gICAgY29uc3QgaGFzRGVzdGluYXRpb24gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocmlkZSwgJ2Rlc3RpbmF0aW9uJyk7XHJcbiAgICBjb25zdCBoYXNUaW1lID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJpZGUsICd0aW1lJyk7XHJcbiAgICBjb25zdCBoYXNBbGxvd1N0b3BzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJpZGUsICdhbGxvd1N0b3BzJyk7XHJcbiAgICBjb25zdCBoYXNBdmFsaWFibGVTcGFjZSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyaWRlLCAnYXZhbGlhYmxlU3BhY2UnKTtcclxuICAgIGNvbnN0IGhhc0Rlc2NyaXB0aW9uID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJpZGUsICdkZXNjcmlwdGlvbicpO1xyXG5cclxuICAgIGlmIChoYXNPcmlnaW4gJiYgaGFzRGVzdGluYXRpb24gJiYgaGFzVGltZSAmJiBoYXNBbGxvd1N0b3BzICYmXHJcbiAgICAgIGhhc0F2YWxpYWJsZVNwYWNlICYmIGhhc0Rlc2NyaXB0aW9uKSB7XHJcbiAgICAgIHJpZGVzLnB1c2gobmV3IFJpZGUodXNlcnNbMF0udXNlcklELCByaWRlLm9yaWdpbiwgcmlkZS5kZXN0aW5hdGlvbiwgcmlkZS50aW1lLCByaWRlLmFsbG93U3RvcHMsIHJpZGUuYXZhbGlhYmxlU3BhY2UsIHJpZGUuZGVzY3JpcHRpb24pKTtcclxuICAgICAgcmVzLmpzb24ocmlkZXNbcmlkZXMubGVuZ3RoIC0gMV0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmVzLnN0YXR1cyg0MDApLnNlbmQoJ1RoZSBpbmZvcm1hdGlvbiB5b3UgcHJvdmlkZWQgZG9lc25cXCd0IGNvbmZvcm0uJyk7XHJcbiAgICB9XHJcbiAgfSxcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNvbnRyb2xsZXI7XHJcbiJdfQ==