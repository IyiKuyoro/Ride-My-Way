'use strict';var cov_24w3ob1c59=function(){var path="C:\\Users\\opeol\\Desktop\\Ride-My-Way\\server\\app.js",hash="e3c5afa86cf1634fea0f8d3698a308b3f476d82c",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"C:\\Users\\opeol\\Desktop\\Ride-My-Way\\server\\app.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:7,column:12},end:{line:7,column:37}},"2":{start:{line:9,column:13},end:{line:9,column:42}},"3":{start:{line:11,column:12},end:{line:11,column:37}},"4":{start:{line:13,column:13},end:{line:13,column:42}},"5":{start:{line:15,column:39},end:{line:15,column:93}},"6":{start:{line:17,column:14},end:{line:17,column:32}},"7":{start:{line:18,column:17},end:{line:18,column:39}},"8":{start:{line:20,column:10},end:{line:20,column:19}},"9":{start:{line:21,column:0},end:{line:21,column:27}},"10":{start:{line:24,column:9},end:{line:24,column:105}},"11":{start:{line:25,column:9},end:{line:25,column:111}},"12":{start:{line:26,column:9},end:{line:26,column:112}},"13":{start:{line:27,column:9},end:{line:27,column:105}},"14":{start:{line:30,column:12},end:{line:32,column:364}},"15":{start:{line:34,column:0},end:{line:36,column:3}},"16":{start:{line:35,column:2},end:{line:35,column:59}},"17":{start:{line:38,column:0},end:{line:40,column:3}},"18":{start:{line:39,column:2},end:{line:39,column:18}},"19":{start:{line:42,column:0},end:{line:54,column:3}},"20":{start:{line:43,column:16},end:{line:43,column:21}},"21":{start:{line:44,column:2},end:{line:49,column:5}},"22":{start:{line:45,column:4},end:{line:48,column:5}},"23":{start:{line:46,column:6},end:{line:46,column:21}},"24":{start:{line:47,column:6},end:{line:47,column:24}},"25":{start:{line:51,column:2},end:{line:53,column:3}},"26":{start:{line:52,column:4},end:{line:52,column:114}},"27":{start:{line:56,column:0},end:{line:71,column:3}},"28":{start:{line:57,column:13},end:{line:57,column:21}},"29":{start:{line:58,column:18},end:{line:58,column:70}},"30":{start:{line:59,column:23},end:{line:59,column:80}},"31":{start:{line:60,column:16},end:{line:60,column:66}},"32":{start:{line:61,column:22},end:{line:61,column:78}},"33":{start:{line:62,column:26},end:{line:62,column:86}},"34":{start:{line:63,column:23},end:{line:63,column:80}},"35":{start:{line:65,column:2},end:{line:70,column:3}},"36":{start:{line:66,column:4},end:{line:66,column:144}},"37":{start:{line:67,column:4},end:{line:67,column:38}},"38":{start:{line:69,column:4},end:{line:69,column:75}},"39":{start:{line:73,column:0},end:{line:88,column:3}},"40":{start:{line:74,column:16},end:{line:74,column:24}},"41":{start:{line:75,column:23},end:{line:75,column:83}},"42":{start:{line:76,column:23},end:{line:76,column:83}},"43":{start:{line:78,column:2},end:{line:87,column:3}},"44":{start:{line:79,column:4},end:{line:83,column:7}},"45":{start:{line:80,column:6},end:{line:82,column:7}},"46":{start:{line:81,column:8},end:{line:81,column:36}},"47":{start:{line:84,column:4},end:{line:84,column:20}},"48":{start:{line:86,column:4},end:{line:86,column:42}},"49":{start:{line:90,column:11},end:{line:90,column:35}},"50":{start:{line:91,column:13},end:{line:93,column:2}},"51":{start:{line:92,column:2},end:{line:92,column:48}},"52":{start:{line:95,column:0},end:{line:95,column:25}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:15,column:9},end:{line:15,column:31}},loc:{start:{line:15,column:37},end:{line:15,column:95}},line:15},"1":{name:"(anonymous_1)",decl:{start:{line:34,column:13},end:{line:34,column:14}},loc:{start:{line:34,column:33},end:{line:36,column:1}},line:34},"2":{name:"(anonymous_2)",decl:{start:{line:38,column:25},end:{line:38,column:26}},loc:{start:{line:38,column:45},end:{line:40,column:1}},line:38},"3":{name:"(anonymous_3)",decl:{start:{line:42,column:33},end:{line:42,column:34}},loc:{start:{line:42,column:53},end:{line:54,column:1}},line:42},"4":{name:"(anonymous_4)",decl:{start:{line:44,column:16},end:{line:44,column:17}},loc:{start:{line:44,column:35},end:{line:49,column:3}},line:44},"5":{name:"(anonymous_5)",decl:{start:{line:56,column:26},end:{line:56,column:27}},loc:{start:{line:56,column:46},end:{line:71,column:1}},line:56},"6":{name:"(anonymous_6)",decl:{start:{line:73,column:43},end:{line:73,column:44}},loc:{start:{line:73,column:63},end:{line:88,column:1}},line:73},"7":{name:"(anonymous_7)",decl:{start:{line:79,column:18},end:{line:79,column:19}},loc:{start:{line:79,column:37},end:{line:83,column:5}},line:79},"8":{name:"(anonymous_8)",decl:{start:{line:91,column:30},end:{line:91,column:31}},loc:{start:{line:91,column:42},end:{line:93,column:1}},line:91}},branchMap:{"0":{loc:{start:{line:15,column:46},end:{line:15,column:92}},type:"cond-expr",locations:[{start:{line:15,column:70},end:{line:15,column:73}},{start:{line:15,column:76},end:{line:15,column:92}}],line:15},"1":{loc:{start:{line:15,column:46},end:{line:15,column:67}},type:"binary-expr",locations:[{start:{line:15,column:46},end:{line:15,column:49}},{start:{line:15,column:53},end:{line:15,column:67}}],line:15},"2":{loc:{start:{line:45,column:4},end:{line:48,column:5}},type:"if",locations:[{start:{line:45,column:4},end:{line:48,column:5}},{start:{line:45,column:4},end:{line:48,column:5}}],line:45},"3":{loc:{start:{line:51,column:2},end:{line:53,column:3}},type:"if",locations:[{start:{line:51,column:2},end:{line:53,column:3}},{start:{line:51,column:2},end:{line:53,column:3}}],line:51},"4":{loc:{start:{line:65,column:2},end:{line:70,column:3}},type:"if",locations:[{start:{line:65,column:2},end:{line:70,column:3}},{start:{line:65,column:2},end:{line:70,column:3}}],line:65},"5":{loc:{start:{line:65,column:6},end:{line:65,column:100}},type:"binary-expr",locations:[{start:{line:65,column:6},end:{line:65,column:15}},{start:{line:65,column:19},end:{line:65,column:33}},{start:{line:65,column:37},end:{line:65,column:44}},{start:{line:65,column:48},end:{line:65,column:61}},{start:{line:65,column:65},end:{line:65,column:82}},{start:{line:65,column:86},end:{line:65,column:100}}],line:65},"6":{loc:{start:{line:78,column:2},end:{line:87,column:3}},type:"if",locations:[{start:{line:78,column:2},end:{line:87,column:3}},{start:{line:78,column:2},end:{line:87,column:3}}],line:78},"7":{loc:{start:{line:78,column:6},end:{line:78,column:38}},type:"binary-expr",locations:[{start:{line:78,column:6},end:{line:78,column:20}},{start:{line:78,column:24},end:{line:78,column:38}}],line:78},"8":{loc:{start:{line:80,column:6},end:{line:82,column:7}},type:"if",locations:[{start:{line:80,column:6},end:{line:82,column:7}},{start:{line:80,column:6},end:{line:82,column:7}}],line:80},"9":{loc:{start:{line:90,column:11},end:{line:90,column:35}},type:"binary-expr",locations:[{start:{line:90,column:11},end:{line:90,column:27}},{start:{line:90,column:31},end:{line:90,column:35}}],line:90}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0,0,0,0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0]},_coverageSchema:"d34fc3e6b8297bcde183f5492bcb8fcb36775295"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();cov_24w3ob1c59.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});var _ride=(cov_24w3ob1c59.s[1]++,require('./classes/ride'));var _ride2=(cov_24w3ob1c59.s[2]++,_interopRequireDefault(_ride));var _user=(cov_24w3ob1c59.s[3]++,require('./classes/user'));var _user2=(cov_24w3ob1c59.s[4]++,_interopRequireDefault(_user));function _interopRequireDefault(obj){cov_24w3ob1c59.f[0]++;cov_24w3ob1c59.s[5]++;return(cov_24w3ob1c59.b[1][0]++,obj)&&(cov_24w3ob1c59.b[1][1]++,obj.__esModule)?(cov_24w3ob1c59.b[0][0]++,obj):(cov_24w3ob1c59.b[0][1]++,{default:obj});}var express=(cov_24w3ob1c59.s[6]++,require('express'));var bodyParser=(cov_24w3ob1c59.s[7]++,require('body-parser'));var app=(cov_24w3ob1c59.s[8]++,express());cov_24w3ob1c59.s[9]++;app.use(bodyParser.json());// Just some mock users for testing purposes
var u1=(cov_24w3ob1c59.s[10]++,new _user2.default('Jide','Dayo','Male','08/03/1990','0801472689','JideDayo@ridemyway.com'));var u2=(cov_24w3ob1c59.s[11]++,new _user2.default('James','Ikechukwu','Male','08/07/1993','08073901746','JamesIK@ridemyway.com'));var u3=(cov_24w3ob1c59.s[12]++,new _user2.default('Francis','Odebala','Male','18/11/1985','08927839810','FrancisO@ridemyway.com'));var u4=(cov_24w3ob1c59.s[13]++,new _user2.default('Okon','Johnson','Male','12/05/1990','09094782319','Okon@ridemyway.com'));// Array to hold the rides
var rides=(cov_24w3ob1c59.s[14]++,[// Just some mock rides for testing purposes
new _ride2.default(u1.userID,'Ikeja','Musin','9:30AM',true,3,'Ikeja to Mushin via Oshodi'),new _ride2.default(u2.userID,'Lagos','Enugu','12:00PM',false,2,'Non-stop to enugu'),new _ride2.default(u3.userID,'Ikorodu','Idumota','1:45pm',false,3),new _ride2.default(u4.userID,'Magodo','Iyana-Ipaja','3:00PM',true,3,'Going via Ogba and Agege')]);cov_24w3ob1c59.s[15]++;app.get('/',function(req,res){cov_24w3ob1c59.f[1]++;cov_24w3ob1c59.s[16]++;res.send('server is running, kindly use api endpoints.');});cov_24w3ob1c59.s[17]++;app.get('/api/v1/rides',function(req,res){cov_24w3ob1c59.f[2]++;cov_24w3ob1c59.s[18]++;res.json(rides);});cov_24w3ob1c59.s[19]++;app.get('/api/v1/rides/:rideId',function(req,res){cov_24w3ob1c59.f[3]++;var success=(cov_24w3ob1c59.s[20]++,false);cov_24w3ob1c59.s[21]++;rides.forEach(function(element){cov_24w3ob1c59.f[4]++;cov_24w3ob1c59.s[22]++;if(element.rideID===req.params.rideId){cov_24w3ob1c59.b[2][0]++;cov_24w3ob1c59.s[23]++;success=true;cov_24w3ob1c59.s[24]++;res.json(element);}else{cov_24w3ob1c59.b[2][1]++;}});cov_24w3ob1c59.s[25]++;if(!success){cov_24w3ob1c59.b[3][0]++;cov_24w3ob1c59.s[26]++;res.status(404).send('Information not found. Perhaps try to get the avaliable rides first and select an ID.');}else{cov_24w3ob1c59.b[3][1]++;}});cov_24w3ob1c59.s[27]++;app.post('/api/v1/rides',function(req,res){cov_24w3ob1c59.f[5]++;var ride=(cov_24w3ob1c59.s[28]++,req.body);var hasOrigin=(cov_24w3ob1c59.s[29]++,Object.prototype.hasOwnProperty.call(ride,'origin'));var hasDestination=(cov_24w3ob1c59.s[30]++,Object.prototype.hasOwnProperty.call(ride,'destination'));var hasTime=(cov_24w3ob1c59.s[31]++,Object.prototype.hasOwnProperty.call(ride,'time'));var hasAllowStops=(cov_24w3ob1c59.s[32]++,Object.prototype.hasOwnProperty.call(ride,'allowStops'));var hasAvaliableSpace=(cov_24w3ob1c59.s[33]++,Object.prototype.hasOwnProperty.call(ride,'avaliableSpace'));var hasDescription=(cov_24w3ob1c59.s[34]++,Object.prototype.hasOwnProperty.call(ride,'description'));cov_24w3ob1c59.s[35]++;if((cov_24w3ob1c59.b[5][0]++,hasOrigin)&&(cov_24w3ob1c59.b[5][1]++,hasDestination)&&(cov_24w3ob1c59.b[5][2]++,hasTime)&&(cov_24w3ob1c59.b[5][3]++,hasAllowStops)&&(cov_24w3ob1c59.b[5][4]++,hasAvaliableSpace)&&(cov_24w3ob1c59.b[5][5]++,hasDescription)){cov_24w3ob1c59.b[4][0]++;cov_24w3ob1c59.s[36]++;rides.push(new _ride2.default(u1.userID,ride.origin,ride.destination,ride.time,ride.allowStops,ride.avaliableSpace,ride.description));cov_24w3ob1c59.s[37]++;res.json(rides[rides.length-1]);}else{cov_24w3ob1c59.b[4][1]++;cov_24w3ob1c59.s[38]++;res.status(400).send('The information you provided doesn\'t conform.');}});cov_24w3ob1c59.s[39]++;app.post('/api/v1/rides/:rideId/requests',function(req,res){cov_24w3ob1c59.f[6]++;var request=(cov_24w3ob1c59.s[40]++,req.body);var hasRequesterID=(cov_24w3ob1c59.s[41]++,Object.prototype.hasOwnProperty.call(request,'requesterID'));var hasDestination=(cov_24w3ob1c59.s[42]++,Object.prototype.hasOwnProperty.call(request,'destination'));cov_24w3ob1c59.s[43]++;if((cov_24w3ob1c59.b[7][0]++,hasRequesterID)&&(cov_24w3ob1c59.b[7][1]++,hasDestination)){cov_24w3ob1c59.b[6][0]++;cov_24w3ob1c59.s[44]++;rides.forEach(function(element){cov_24w3ob1c59.f[7]++;cov_24w3ob1c59.s[45]++;if(element.rideID===req.params.rideId){cov_24w3ob1c59.b[8][0]++;cov_24w3ob1c59.s[46]++;element.addRequest(request);}else{cov_24w3ob1c59.b[8][1]++;}});cov_24w3ob1c59.s[47]++;res.json(rides);}else{cov_24w3ob1c59.b[6][1]++;cov_24w3ob1c59.s[48]++;res.status(400).send('Invalid data.');}});var PORT=(cov_24w3ob1c59.s[49]++,(cov_24w3ob1c59.b[9][0]++,process.env.PORT)||(cov_24w3ob1c59.b[9][1]++,3000));var server=(cov_24w3ob1c59.s[50]++,app.listen(PORT,function(){cov_24w3ob1c59.f[8]++;cov_24w3ob1c59.s[51]++;console.log('App is running on port '+PORT);}));cov_24w3ob1c59.s[52]++;exports.default=server;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImJvZHlQYXJzZXIiLCJhcHAiLCJ1c2UiLCJqc29uIiwidTEiLCJVc2VyIiwidTIiLCJ1MyIsInU0IiwicmlkZXMiLCJSaWRlIiwidXNlcklEIiwiZ2V0IiwicmVxIiwicmVzIiwic2VuZCIsInN1Y2Nlc3MiLCJmb3JFYWNoIiwiZWxlbWVudCIsInJpZGVJRCIsInBhcmFtcyIsInJpZGVJZCIsInN0YXR1cyIsInBvc3QiLCJyaWRlIiwiYm9keSIsImhhc09yaWdpbiIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImhhc0Rlc3RpbmF0aW9uIiwiaGFzVGltZSIsImhhc0FsbG93U3RvcHMiLCJoYXNBdmFsaWFibGVTcGFjZSIsImhhc0Rlc2NyaXB0aW9uIiwicHVzaCIsIm9yaWdpbiIsImRlc3RpbmF0aW9uIiwidGltZSIsImFsbG93U3RvcHMiLCJhdmFsaWFibGVTcGFjZSIsImRlc2NyaXB0aW9uIiwibGVuZ3RoIiwicmVxdWVzdCIsImhhc1JlcXVlc3RlcklEIiwiYWRkUmVxdWVzdCIsIlBPUlQiLCJwcm9jZXNzIiwiZW52Iiwic2VydmVyIiwibGlzdGVuIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7QUFDQTs7Ozs7O0FBRUEsSUFBTUEsVUFBVUMsUUFBUSxTQUFSLENBQWhCO0FBQ0EsSUFBTUMsYUFBYUQsUUFBUSxhQUFSLENBQW5COztBQUVBLElBQU1FLE1BQU1ILFNBQVo7QUFDQUcsSUFBSUMsR0FBSixDQUFRRixXQUFXRyxJQUFYLEVBQVI7O0FBRUE7QUFDQSxJQUFNQyxLQUFLLElBQUlDLGNBQUosQ0FBUyxNQUFULEVBQWlCLE1BQWpCLEVBQXlCLE1BQXpCLEVBQWlDLFlBQWpDLEVBQStDLFlBQS9DLEVBQTZELHdCQUE3RCxDQUFYO0FBQ0EsSUFBTUMsS0FBSyxJQUFJRCxjQUFKLENBQVMsT0FBVCxFQUFrQixX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QUFtQkYsT0FBbkI7QUFDRDtBQUNGLEtBSkQ7QUFLQTlCLFFBQUlYLElBQUosQ0FBU00sS0FBVDtBQUNELEdBUEQsTUFPTztBQUNMSyxRQUFJUSxNQUFKLENBQVcsR0FBWCxFQUFnQlAsSUFBaEIsQ0FBcUIsZUFBckI7QUFDRDtBQUNGLENBZkQ7O0FBaUJBLElBQU1nQyxPQUFPQyxRQUFRQyxHQUFSLENBQVlGLElBQVosSUFBb0IsSUFBakM7QUFDQSxJQUFNRyxTQUFTakQsSUFBSWtELE1BQUosQ0FBV0osSUFBWCxFQUFpQixZQUFNO0FBQ3BDSyxVQUFRQyxHQUFSLDZCQUFzQ04sSUFBdEM7QUFDRCxDQUZjLENBQWY7O2tCQUllRyxNIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZVJvb3QiOiJDOi9Vc2Vycy9vcGVvbC9EZXNrdG9wL1JpZGUtTXktV2F5L3NlcnZlciIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSaWRlIGZyb20gJy4vY2xhc3Nlcy9yaWRlJztcclxuaW1wb3J0IFVzZXIgZnJvbSAnLi9jbGFzc2VzL3VzZXInO1xyXG5cclxuY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcclxuY29uc3QgYm9keVBhcnNlciA9IHJlcXVpcmUoJ2JvZHktcGFyc2VyJyk7XHJcblxyXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XHJcbmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xyXG5cclxuLy8gSnVzdCBzb21lIG1vY2sgdXNlcnMgZm9yIHRlc3RpbmcgcHVycG9zZXNcclxuY29uc3QgdTEgPSBuZXcgVXNlcignSmlkZScsICdEYXlvJywgJ01hbGUnLCAnMDgvMDMvMTk5MCcsICcwODAxNDcyNjg5JywgJ0ppZGVEYXlvQHJpZGVteXdheS5jb20nKTtcclxuY29uc3QgdTIgPSBuZXcgVXNlcignSmFtZXMnLCAnSWtlY2h1a3d1JywgJ01hbGUnLCAnMDgvMDcvMTk5MycsICcwODA3MzkwMTc0NicsICdKYW1lc0lLQHJpZGVteXdheS5jb20nKTtcclxuY29uc3QgdTMgPSBuZXcgVXNlcignRnJhbmNpcycsICdPZGViYWxhJywgJ01hbGUnLCAnMTgvMTEvMTk4NScsICcwODkyNzgzOTgxMCcsICdGcmFuY2lzT0ByaWRlbXl3YXkuY29tJyk7XHJcbmNvbnN0IHU0ID0gbmV3IFVzZXIoJ09rb24nLCAnSm9obnNvbicsICdNYWxlJywgJzEyLzA1LzE5OTAnLCAnMDkwOTQ3ODIzMTknLCAnT2tvbkByaWRlbXl3YXkuY29tJyk7XHJcblxyXG4vLyBBcnJheSB0byBob2xkIHRoZSByaWRlc1xyXG5jb25zdCByaWRlcyA9IFtcclxuICAvLyBKdXN0IHNvbWUgbW9jayByaWRlcyBmb3IgdGVzdGluZyBwdXJwb3Nlc1xyXG4gIG5ldyBSaWRlKHUxLnVzZXJJRCwgJ0lrZWphJywgJ011c2luJywgJzk6MzBBTScsIHRydWUsIDMsICdJa2VqYSB0byBNdXNoaW4gdmlhIE9zaG9kaScpLFxyXG4gIG5ldyBSaWRlKHUyLnVzZXJJRCwgJ0xhZ29zJywgJ0VudWd1JywgJzEyOjAwUE0nLCBmYWxzZSwgMiwgJ05vbi1zdG9wIHRvIGVudWd1JyksXHJcbiAgbmV3IFJpZGUodTMudXNlcklELCAnSWtvcm9kdScsICdJZHVtb3RhJywgJzE6NDVwbScsIGZhbHNlLCAzKSxcclxuICBuZXcgUmlkZSh1NC51c2VySUQsICdNYWdvZG8nLCAnSXlhbmEtSXBhamEnLCAnMzowMFBNJywgdHJ1ZSwgMywgJ0dvaW5nIHZpYSBPZ2JhIGFuZCBBZ2VnZScpLFxyXG5dO1xyXG5cclxuYXBwLmdldCgnLycsIChyZXEsIHJlcykgPT4ge1xyXG4gIHJlcy5zZW5kKCdzZXJ2ZXIgaXMgcnVubmluZywga2luZGx5IHVzZSBhcGkgZW5kcG9pbnRzLicpO1xyXG59KTtcclxuXHJcbmFwcC5nZXQoJy9hcGkvdjEvcmlkZXMnLCAocmVxLCByZXMpID0+IHtcclxuICByZXMuanNvbihyaWRlcyk7XHJcbn0pO1xyXG5cclxuYXBwLmdldCgnL2FwaS92MS9yaWRlcy86cmlkZUlkJywgKHJlcSwgcmVzKSA9PiB7XHJcbiAgbGV0IHN1Y2Nlc3MgPSBmYWxzZTtcclxuICByaWRlcy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XHJcbiAgICBpZiAoZWxlbWVudC5yaWRlSUQgPT09IHJlcS5wYXJhbXMucmlkZUlkKSB7XHJcbiAgICAgIHN1Y2Nlc3MgPSB0cnVlO1xyXG4gICAgICByZXMuanNvbihlbGVtZW50KTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgaWYgKCFzdWNjZXNzKSB7XHJcbiAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCgnSW5mb3JtYXRpb24gbm90IGZvdW5kLiBQZXJoYXBzIHRyeSB0byBnZXQgdGhlIGF2YWxpYWJsZSByaWRlcyBmaXJzdCBhbmQgc2VsZWN0IGFuIElELicpO1xyXG4gIH1cclxufSk7XHJcblxyXG5hcHAucG9zdCgnL2FwaS92MS9yaWRlcycsIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IHJpZGUgPSByZXEuYm9keTtcclxuICBjb25zdCBoYXNPcmlnaW4gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocmlkZSwgJ29yaWdpbicpO1xyXG4gIGNvbnN0IGhhc0Rlc3RpbmF0aW9uID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJpZGUsICdkZXN0aW5hdGlvbicpO1xyXG4gIGNvbnN0IGhhc1RpbWUgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocmlkZSwgJ3RpbWUnKTtcclxuICBjb25zdCBoYXNBbGxvd1N0b3BzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJpZGUsICdhbGxvd1N0b3BzJyk7XHJcbiAgY29uc3QgaGFzQXZhbGlhYmxlU3BhY2UgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocmlkZSwgJ2F2YWxpYWJsZVNwYWNlJyk7XHJcbiAgY29uc3QgaGFzRGVzY3JpcHRpb24gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocmlkZSwgJ2Rlc2NyaXB0aW9uJyk7XHJcblxyXG4gIGlmIChoYXNPcmlnaW4gJiYgaGFzRGVzdGluYXRpb24gJiYgaGFzVGltZSAmJiBoYXNBbGxvd1N0b3BzICYmXHJcbiAgICBoYXNBdmFsaWFibGVTcGFjZSAmJiBoYXNEZXNjcmlwdGlvbikge1xyXG4gICAgcmlkZXMucHVzaChuZXcgUmlkZSh1MS51c2VySUQsIHJpZGUub3JpZ2luLCByaWRlLmRlc3RpbmF0aW9uLCByaWRlLnRpbWUsIHJpZGUuYWxsb3dTdG9wcywgcmlkZS5hdmFsaWFibGVTcGFjZSwgcmlkZS5kZXNjcmlwdGlvbikpO1xyXG4gICAgcmVzLmpzb24ocmlkZXNbcmlkZXMubGVuZ3RoIC0gMV0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXMuc3RhdHVzKDQwMCkuc2VuZCgnVGhlIGluZm9ybWF0aW9uIHlvdSBwcm92aWRlZCBkb2VzblxcJ3QgY29uZm9ybS4nKTtcclxuICB9XHJcbn0pO1xyXG5cclxuYXBwLnBvc3QoJy9hcGkvdjEvcmlkZXMvOnJpZGVJZC9yZXF1ZXN0cycsIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IHJlcXVlc3QgPSByZXEuYm9keTtcclxuICBjb25zdCBoYXNSZXF1ZXN0ZXJJRCA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyZXF1ZXN0LCAncmVxdWVzdGVySUQnKTtcclxuICBjb25zdCBoYXNEZXN0aW5hdGlvbiA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyZXF1ZXN0LCAnZGVzdGluYXRpb24nKTtcclxuXHJcbiAgaWYgKGhhc1JlcXVlc3RlcklEICYmIGhhc0Rlc3RpbmF0aW9uKSB7XHJcbiAgICByaWRlcy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XHJcbiAgICAgIGlmIChlbGVtZW50LnJpZGVJRCA9PT0gcmVxLnBhcmFtcy5yaWRlSWQpIHtcclxuICAgICAgICBlbGVtZW50LmFkZFJlcXVlc3QocmVxdWVzdCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmVzLmpzb24ocmlkZXMpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXMuc3RhdHVzKDQwMCkuc2VuZCgnSW52YWxpZCBkYXRhLicpO1xyXG4gIH1cclxufSk7XHJcblxyXG5jb25zdCBQT1JUID0gcHJvY2Vzcy5lbnYuUE9SVCB8fCAzMDAwO1xyXG5jb25zdCBzZXJ2ZXIgPSBhcHAubGlzdGVuKFBPUlQsICgpID0+IHtcclxuICBjb25zb2xlLmxvZyhgQXBwIGlzIHJ1bm5pbmcgb24gcG9ydCAke1BPUlR9YCk7XHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgc2VydmVyO1xyXG4iXX0=